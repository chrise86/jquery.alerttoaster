
jQuery.alertToaster={oToaster:null,initToaster:function(){if(this._getToaster()===null){this.setToaster(this.createToaster());}},_getToaster:function(){return this.oToaster;},setToaster:function(p_oToaster){this.oToaster=p_oToaster;},createToaster:function(){return(function(){var oToaster=this;this.baseZIndex=9999;this.oButtonEl=jQuery('<a href="#"><span>OK</span></a>').click(function(){oToaster.hide();return false;});this.oButtonContainerEl=jQuery('<p id="alerttoaster-button" />').append(this.oButtonEl);this.oMessageEl=jQuery('<p id="alerttoaster-message" />');this.oEdgeEl=jQuery('<div id="alerttoaster-edge" />');this.oToastEl=jQuery('<div id="alerttoaster-toast" />').css({position:'absolute',top:0,zIndex:oToaster.baseZIndex+1,display:'none'}).click(function(){oToaster.oButtonEl.focus();}).keydown(function(p_oEvent){if(p_oEvent.keyCode===27){oToaster.hide();}}).append(this.oEdgeEl).append(this.oMessageEl).append(this.oButtonContainerEl).appendTo('body');this.oBackgroundEl=jQuery('<div id="alerttoaster-background" />').css({position:'absolute',left:0,top:0,zIndex:oToaster.baseZIndex,display:'none',width:'100%',height:'100%'}).click(function(){oToaster.oButtonEl.focus();}).appendTo('body');this.show=function(p_message){var oToaster=this;this.setMessage(p_message);this.oBackgroundEl.fadeIn('fast',function(){oToaster.oToastEl.slideDown('fast');oToaster.oButtonEl.focus();});};this.setMessage=function(p_message){this.oMessageEl.html(p_message);};this.hide=function(){var oToaster=this;this.oToastEl.slideUp('fast',function(){oToaster.setMessage('');oToaster.oBackgroundEl.fadeOut('fast');});};this.positionToast=function(){this.oToastEl.css('left',((jQuery(window).width()/2)-(this.oToastEl.width()/2))+'px');};jQuery(window).resize(function(){oToaster.positionToast();});this.positionToast();return this;}());},show:function(p_message){this.getToaster().show(p_message);},getToaster:function(){this.initToaster();return this._getToaster();},hide:function(){this.getToaster().hide();}};