
jQuery.extend(true,{alertToaster:{oAlert:null,setAlert:function(p_oAlert){this.oAlert=p_oAlert;},_getAlert:function(){return this.oAlert;},createAlert:function(p_oOptions){var oOptions=jQuery.extend({buttonLabel:'OK',baseZIndex:9999},jQuery.isPlainObject(p_oOptions)?p_oOptions:{});return(function(p_oOptions){var oAlert=this;this.oOptions=p_oOptions;this.oButtonEl=null;this.oButtonWrapperEl=null;this.oMessageEl=null;this.oAlertEl=null;this.oBackgroundEl=null;this.getOptions=function(p_name){if(typeof p_name==='string'){if(typeof this.oOptions[p_name]==='undefined'){throw'The option does not exist';}
return this.oOptions[p_name];}
return this.oOptions;};this.setMessage=function(p_message){this.oMessageEl.html(p_message);};this.clearMessage=function(){this.setMessage('');};this.setPosition=function(p_left,p_top){this.oAlertEl.css({left:p_left,top:p_top});};this.getDimensions=function(){var oAlert=this;return{width:oAlert.oAlertEl.width(),height:oAlert.oAlertEl.height()};};this.show=function(p_message){var oAlert=this;this.setMessage(p_message);this.oBackgroundEl.fadeIn('fast',function(){oAlert.oAlertEl.slideDown('fast');oAlert.oButtonEl.focus();});};this.hide=function(){var oAlert=this;this.oAlertEl.slideUp('fast',function(){oAlert.oBackgroundEl.fadeOut('fast');oAlert.clearMessage();});};this.oButtonEl=jQuery('<a href="#"/>').append(jQuery('<span/>').html(this.getOptions('buttonLabel'))).click(function(){oAlert.hide();return false;});this.oButtonWrapperEl=jQuery('<p id="alerttoaster-button" />').append(this.oButtonEl);this.oMessageEl=jQuery('<p id="alerttoaster-message" />');this.oAlertEl=jQuery('<div id="alerttoaster-alert" />').css({position:'absolute',top:0,zIndex:oAlert.getOptions('baseZIndex')+1,display:'none'}).click(function(){oAlert.oButtonEl.focus();}).keydown(function(p_oEvent){if(p_oEvent.keyCode===27){oAlert.hide();}}).append(this.oMessageEl).append(this.oButtonWrapperEl).appendTo('body');this.oBackgroundEl=jQuery('<div id="alerttoaster-background" />').css({position:'absolute',left:0,top:0,zIndex:oAlert.getOptions('baseZIndex'),display:'none',width:'100%',height:'100%'}).click(function(){oAlert.oButtonEl.focus();}).appendTo('body');return this;}(oOptions));},positionAlert:function(){this.getAlert().setPosition(parseInt((jQuery(window).width()/2)-(this.getAlert().getDimensions().width/2),10)+'px',0);},getAlert:function(){var oAlertToaster=this;if(this._getAlert()===null){this.setAlert(this.createAlert());jQuery(window).resize(function(){oAlertToaster.positionAlert();});}
return this._getAlert();},showAlert:function(p_message){this.positionAlert();this.getAlert().show(p_message);},hideAlert:function(){this.getAlert().hide();}}});